---
title: 'Designer'
description: 'Visual designer for creating and editing view schemas'
icon: 'palette'
---

# View Designer

The View Designer provides a visual interface for creating and editing view schemas, making it easy to build UI components without writing code.

## Overview

The View Designer offers the following features:

- Visual editing of view schemas
- Drag-and-drop interface for arranging fields
- Preview of rendered views
- Schema validation and error highlighting
- Support for all view types
- Integration with CRUD schemas

## API Reference

### `ViewDesigner`

The main component for visually designing view schemas.

```typescript
function ViewDesigner(props: ViewDesignerProps): React.ReactElement;

interface ViewDesignerProps {
  /** Current schema value */
  value: ViewSchema;
  /** Callback when schema changes */
  onChange: (schema: ViewSchema) => void;
  /** Available schemas for CRUD operations */
  availableSchemas?: string[];
  /** Additional options */
  options?: ViewDesignerOptions;
}

interface ViewDesignerOptions {
  /** Whether to show the preview panel */
  showPreview?: boolean;
  /** Whether to show the code panel */
  showCode?: boolean;
  /** Whether to show the properties panel */
  showProperties?: boolean;
  /** Custom components to override defaults */
  components?: Record<string, React.ComponentType<any>>;
}
```

### `ViewDesignerForm`

A form component for editing view schemas.

```typescript
function ViewDesignerForm(props: ViewDesignerFormProps): React.ReactElement;

interface ViewDesignerFormProps {
  /** Current schema value */
  value: ViewSchema;
  /** Callback when schema changes */
  onChange: (schema: ViewSchema) => void;
  /** Available schemas for CRUD operations */
  availableSchemas?: string[];
}
```

### `ViewDesignerPreview`

A component for previewing rendered views.

```typescript
function ViewDesignerPreview(props: ViewDesignerPreviewProps): React.ReactElement;

interface ViewDesignerPreviewProps {
  /** Schema to preview */
  schema: ViewSchema;
  /** Mock data for preview */
  mockData?: Record<string, unknown>;
}
```

### `ViewDesignerCode`

A component for viewing and editing the JSON code of a view schema.

```typescript
function ViewDesignerCode(props: ViewDesignerCodeProps): React.ReactElement;

interface ViewDesignerCodeProps {
  /** Current schema value */
  value: ViewSchema;
  /** Callback when schema changes */
  onChange: (schema: ViewSchema) => void;
}
```

## Components

The View Designer includes the following components:

### Field Components

- `StringField`: For editing string fields
- `NumberField`: For editing number fields
- `BooleanField`: For editing boolean fields
- `DateField`: For editing date fields
- `SelectField`: For editing select fields
- `MultiSelectField`: For editing multi-select fields
- `ReferenceField`: For editing reference fields

### Layout Components

- `FormLayout`: For arranging form fields
- `TableLayout`: For arranging table columns
- `DetailLayout`: For arranging detail sections
- `SectionLayout`: For arranging fields within sections

### Action Components

- `ActionButton`: For defining action buttons
- `SubmitButton`: For defining submit buttons
- `CancelButton`: For defining cancel buttons

## Examples

### Basic Designer

```tsx
import { ViewDesigner } from '@repo/view';

function MyDesigner() {
  const [schema, setSchema] = useState({
    id: 'user-form',
    type: 'form',
    schema: 'user',
    fields: []
  });
  
  return (
    <ViewDesigner
      value={schema}
      onChange={setSchema}
      availableSchemas={['user', 'product', 'order']}
    />
  );
}
```

### Designer with Custom Options

```tsx
import { ViewDesigner } from '@repo/view';

function MyDesigner() {
  const [schema, setSchema] = useState(initialSchema);
  
  return (
    <ViewDesigner
      value={schema}
      onChange={setSchema}
      availableSchemas={['user', 'product', 'order']}
      options={{
        showPreview: true,
        showCode: true,
        showProperties: true,
        components: {
          CustomField: MyCustomField
        }
      }}
    />
  );
}
```

### Form-Only Designer

```tsx
import { ViewDesignerForm } from '@repo/view';

function MyFormDesigner() {
  const [schema, setSchema] = useState(initialSchema);
  
  return (
    <ViewDesignerForm
      value={schema}
      onChange={setSchema}
      availableSchemas={['user', 'product', 'order']}
    />
  );
}
```

### Preview Component

```tsx
import { ViewDesignerPreview } from '@repo/view';

function MyPreview() {
  return (
    <ViewDesignerPreview
      schema={mySchema}
      mockData={{
        name: 'John Doe',
        email: 'john@example.com',
        role: 'admin'
      }}
    />
  );
}
```

### Code Editor

```tsx
import { ViewDesignerCode } from '@repo/view';

function MyCodeEditor() {
  const [schema, setSchema] = useState(initialSchema);
  
  return (
    <ViewDesignerCode
      value={schema}
      onChange={setSchema}
    />
  );
}
```

## Integration with CRUD Schemas

The View Designer integrates with CRUD schemas to provide field definitions and validation rules:

```tsx
import { ViewDesigner } from '@repo/view';
import { useCrudSchemas } from '@repo/crud';

function MyDesigner() {
  const { schemas, loading } = useCrudSchemas();
  const [schema, setSchema] = useState(initialSchema);
  
  if (loading) return <div>Loading schemas...</div>;
  
  return (
    <ViewDesigner
      value={schema}
      onChange={setSchema}
      availableSchemas={Object.keys(schemas)}
    />
  );
}
```

## Saving and Loading Schemas

The View Designer can be integrated with the View Service to save and load schemas:

```tsx
import { ViewDesigner, useViewSchema, saveView } from '@repo/view';

function MyDesigner({ schemaId }) {
  const { data: schema, loading, error } = useViewSchema(schemaId);
  const [currentSchema, setCurrentSchema] = useState(null);
  
  useEffect(() => {
    if (schema) {
      setCurrentSchema(schema);
    }
  }, [schema]);
  
  const handleSave = async (updatedSchema) => {
    setCurrentSchema(updatedSchema);
    await saveView(schemaId, updatedSchema);
  };
  
  if (loading) return <div>Loading schema...</div>;
  if (error) return <div>Error: {error.message}</div>;
  if (!currentSchema) return <div>No schema found</div>;
  
  return (
    <ViewDesigner
      value={currentSchema}
      onChange={handleSave}
      availableSchemas={['user', 'product', 'order']}
    />
  );
}
```
